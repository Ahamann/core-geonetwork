<div class="row">
    <div class="col-lg-4">
        <div class="panel">
            <div class="panel-heading"
                data-translate="">harvester</div>
            <input class="form-control" data-ng-model="harvesterSearch.$" 
                autofocus=""
                placeholder="{{'filter' | translate}}"/>
            <input type="hidden" data-ng-model="harvesterSelected.id"/>
            <div class="list-group">
                <a class="list-group-item" 
                    data-ng-repeat="h in harvesters | filter:harvesterSearch | orderBy:'name'"  
                    data-ng-click="selectHarvester(h)" title="{{h.info.lastRun}}">
                    <!-- TODO : Add a tooltip with last run info -->
                    {{h.site.name}} ({{('protocol' + h['@type']) | translate}}) 
                    <i data-ng-show="h.info.running" class="icon-spinner icon-spin pull-right"/>
                </a>
            </div>
            
            <div class="btn-group">
                <button type="button" class="btn btn-primary dropdown-toggle icon-plus" data-toggle="dropdown">
                    <span data-translate="">newHarvester</span> <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu">
                    <li data-ng-repeat="(key, value) in harvesterTypes"
                        data-ng-class="value.loaded ? '' : 'disabled'"
                        >
                        <a data-ng-click="addHarvester(key)" 
                            title="{{key + 'HarvesterHelp' | translate}}">
                            {{('protocol' + value.label) | translate}} <span data-ng-hide="value.loaded" data-translate="">notYetSupported</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    
    
    
    <div class="col-lg-8" 
        data-ng-hide="harvesterSelected['@id'] == null">
        <div class="panel">
            <div class="panel-heading">
                <span data-ng-hide="harvesterSelected['@id'] == ''" data-translate="">updateHarvester</span>
                <span data-ng-hide="harvesterSelected['@id'] != ''" data-translate="">newHarvester</span>
                <span>{{harvesterSelected.site.name}}</span>
                
                <div class="btn-toolbar">
                <button type="button" class="btn btn-primary pull-right icon-play" 
                    data-ng-click="runHarvester(harvesterSelected['@id'])" 
                    data-translate="">runHarvester</button>
                <button type="button" class="btn btn-primary pull-right icon-save" 
                    data-ng-disabled="!harvesterUpdated"
                    data-ng-click="saveHarvester('#gn-harvester-edit')" 
                    data-translate="">saveHarvester</button>
                <button type="button" class="btn btn-primary pull-right btn-danger icon-remove" 
                    data-ng-hide="harvesterSelected['@id'] == ''"
                    data-ng-click="deleteHarvester(harvesterSelected['@id'])" 
                    data-translate="">deleteHarvester</button>
                </div>
            </div>
            {{updatingHarvester}}
            <div data-ng-include="getTplForHarvester()"> </div>
        </div>
        
        
        <div class="panel">
            <div class="panel-heading" data-translate="">harvesterHistory</div>
        </div>
        
        
        <div class="panel">
            <div class="panel-heading" data-translate="">harvesterRecords</div>
        </div>
    </div>
</div>